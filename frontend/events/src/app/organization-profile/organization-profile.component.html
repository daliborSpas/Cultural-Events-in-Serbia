<div class="pageShow">
    <app-nav></app-nav>
    <div *ngIf="userData != null" class="container animated bounceInRight">
        <div class="grid">
            <div class="org-basic">
                <mat-card class="avatar">
                    <mat-icon>account_circle</mat-icon>
                    <mat-card-title>{{userData.organization}}</mat-card-title>
                    <mat-card-subtitle>{{userData.city}}</mat-card-subtitle>
                </mat-card>
                <mat-card-content>
                    <mat-card-subtitle>{{userData.organizationInfoText}}</mat-card-subtitle>
                </mat-card-content>
            </div>

            <div class="org-edit">
                <mat-tab-group dynamicHeight>
                    <mat-tab label="OSNOVNI PODACI">
                        <div class="mat-elevation-z4">
                            <mat-card>
                                <label>Adresa:</label>
                                <h2>{{userData.street}} {{userData.number}}</h2>
                                <label>Oblast delovanja:</label>
                                <h2>{{userData.areaactivity}}</h2>
                                <mat-divider></mat-divider>
                                <label>Kontakt osoba:</label>
                                <h2>{{userData.first_name}} {{userData.last_name}}</h2>
                                <label>Kontakt telefon:</label>
                                <h2>{{userData.telephone}}</h2>
                                <mat-divider></mat-divider>
                                <label>Email:</label>
                                <h2>{{userData.email}}</h2>
                                <label>Web adresa:</label>
                                <h2>{{userData.website}}</h2>
                            </mat-card>
                        </div>
                    </mat-tab>
                    <mat-tab label="UREDI PODATKE">
                        <div class="mat-elevation-z4">
                            <mat-card class="title-card">
                                <span>Uredi osnovne podatke o organizaciji</span>
                            </mat-card>
                            <mat-card>
                                <mat-card-content>
                                    <form class="my-form">
                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Naziv organizacije</mat-label>
                                            <input matInput placeholder="Unesite naziv organizacija"
                                                [formControl]="orgName" name="organization" [(ngModel)]="organization"
                                                value="{{userData.organization}}">
                                            <mat-error *ngIf="orgName.invalid">{{getErrorMessageForOrgName()}}
                                            </mat-error>
                                        </mat-form-field>

                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Ulica</mat-label>
                                            <input matInput placeholder="Unesite naziv ulice" [formControl]="orgStreet"
                                                name="street" [(ngModel)]="street" value="{{userData.street}}">
                                            <mat-error *ngIf="orgStreet.invalid">{{getErrorMessageForOrgStreet()}}
                                            </mat-error>
                                        </mat-form-field>
                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Broj ulice</mat-label>
                                            <input matInput placeholder="Unesite broj ulice" [formControl]="orgNumber"
                                                name="number" [(ngModel)]="number" value="{{userData.number}}">
                                            <mat-error *ngIf="orgNumber.invalid">{{getErrorMessageForOrgNumber()}}
                                            </mat-error>
                                        </mat-form-field>

                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Mesto</mat-label>
                                            <input matInput placeholder="Unesite grad" [formControl]="orgCity"
                                                name="city" [(ngModel)]="city" value="{{userData.city}}">
                                            <mat-error *ngIf="orgCity.invalid">{{getErrorMessageForOrgCity()}}
                                            </mat-error>
                                        </mat-form-field>

                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Ime</mat-label>
                                            <input matInput placeholder="Unesite ime i prezime kontakt osobe"
                                                [formControl]="contactPersonName" name="first_name"
                                                [(ngModel)]="first_name" value="{{userData.first_name}}">
                                            <mat-error *ngIf="contactPersonName.invalid">
                                                {{getErrorMessageForContactPersonName()}}</mat-error>
                                        </mat-form-field>

                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Prezime</mat-label>
                                            <input matInput placeholder="Unesite ime i prezime kontakt osobe"
                                                [formControl]="contactPersonLastName" name="last_name"
                                                [(ngModel)]="last_name" value="{{userData.last_name}}">
                                            <mat-error *ngIf="contactPersonLastName.invalid">
                                                {{getErrorMessageForContactPersonLastName()}}</mat-error>
                                        </mat-form-field>

                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Kontakt telefon</mat-label>
                                            <input matInput placeholder="Unesite broj telefona"
                                                [formControl]="telNumber" name="telephone" [(ngModel)]="telephone"
                                                value="{{userData.telephone}}">
                                            <mat-icon matSuffix>phone</mat-icon>
                                            <mat-error *ngIf="telNumber.invalid">{{getErrorMessageForTelNumber()}}
                                            </mat-error>
                                        </mat-form-field>

                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Oblast delovanja</mat-label>
                                            <mat-select [formControl]="selectArea" name="areaactivity"
                                                [(ngModel)]="areaactivity" value="{{userData.areaactivity}}">
                                                <mat-option *ngFor="let area of areaActivity" [value]="area">
                                                    {{area}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error *ngIf="selectArea.invalid">{{getErrorMessageForAreaActivity()}}
                                            </mat-error>
                                        </mat-form-field>

                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Veb adresa sajta</mat-label>
                                            <input matInput placeholder="primer: www.vasvebsajt.com"
                                                [formControl]="webSite" name="website" [(ngModel)]="website"
                                                value="{{userData.website}}">
                                            <mat-error *ngIf="webSite.invalid">{{getErrorMessageForWebSite()}}
                                            </mat-error>
                                        </mat-form-field>

                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Email</mat-label>
                                            <input matInput placeholder="primer: vasamejladresa@neki.com"
                                                [formControl]="eMail" name="email" [(ngModel)]="email"
                                                value="{{userData.email}}">
                                            <mat-error *ngIf="eMail.invalid">{{getErrorMessageForEmail()}}</mat-error>
                                        </mat-form-field>

                                        <mat-form-field class="full-width span-input"
                                            hintLabel="Maksimalno 500 karaktera" appearance="outline">
                                            <mat-label>Tekst o organizaciji</mat-label>
                                            <textarea matInput maxlength="500" #txt
                                                placeholder="Unesite nešto o vašoj organizaciji" [formControl]="orgInfo"
                                                name="organizationInfoText" [(ngModel)]="organizationInfoText"
                                                value="{{userData.organizationInfoText}}"></textarea>
                                            <mat-hint align="end">{{txt.value?.length || 0}}/500</mat-hint>
                                            <mat-error *ngIf="orgInfo.invalid">{{getErrorMessageForOrgInfo()}}
                                            </mat-error>
                                        </mat-form-field>

                                        <mat-card-actions>
                                            <button mat-raised-button color="primary">Sacuvaj promene</button>
                                        </mat-card-actions>
                                    </form>
                                </mat-card-content>
                            </mat-card>
                        </div>
                    </mat-tab>
                    <mat-tab label="PROMENI LOZINKU">
                        <div class="mat-elevation-z4">
                            <mat-card class="title-card">
                                <span>Promeni korisnicko ime i lozinku</span>
                            </mat-card>
                            <mat-card>
                                <mat-card-content>
                                    <form class="my-form">
                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Korisničko ime</mat-label>
                                            <input matInput placeholder="Unesite vaše korisničko ime"
                                                [formControl]="userName" name="username" [(ngModel)]="username"
                                                value="{{userData.username}}">
                                            <mat-error *ngIf="userName.invalid">{{getErrorMessageForUserName()}}
                                            </mat-error>
                                        </mat-form-field>

                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Lozinka</mat-label>
                                            <input matInput [type]="hide ? 'password' : 'text'"
                                                placeholder="Unesite lozinku" [formControl]="passWord" name="password"
                                                [(ngModel)]="password" value="{{userData.password}}">
                                            <button mat-icon-button matSuffix (click)="hide = !hide"
                                                [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                                                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                                            </button>
                                            <mat-error *ngIf="passWord.invalid">{{getErrorMessageForPassword()}}
                                            </mat-error>
                                        </mat-form-field>

                                        <mat-card-actions>
                                            <button mat-raised-button color="primary">Sacuvaj promene</button>
                                        </mat-card-actions>
                                    </form>
                                </mat-card-content>
                            </mat-card>
                        </div>
                    </mat-tab>
                </mat-tab-group>
            </div>
        </div>
    </div>
    <!-- <div *ngIf="userData == null">
        <mat-card class="error">
            <mat-card-subtitle>
                <mat-card-title>Pogrešni podaci</mat-card-title>
            </mat-card-subtitle>
            <mat-divider inset></mat-divider>
            <mat-card-content>
                <mat-card-subtitle>Nema podataka za prikazivanje!</mat-card-subtitle>
                <p>Potrebno je da se prijavite, da biste mogli pristupiti svojim podacima. Ako nemate nalog <i><b>registrujte se</b></i>.</p>
                <p>Ako imate pitanja, kontaktirajte nas iz sekcije <i><b>kontaktirajte nas</b></i></p>
            </mat-card-content>
            <mat-divider inset></mat-divider>
            <mat-card-footer>
                <mat-progress-bar mode="indeterminate"></mat-progress-bar>
            </mat-card-footer>
        </mat-card>
    </div> -->
</div>